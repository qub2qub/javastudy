<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Hib cfg init</title>
    <link rel="stylesheet" href="grey.css">
</head>
<body>
<table>
        <tbody><tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="32405031">
        <a class="vote-up-off" title="This question shows research effort; it is useful and clear">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post  cye-lm-tag">10</span>
        <a class="vote-down-off" title="This question does not show any research effort; it is unclear or not useful">down vote</a>

        <a class="star-off" href="#">favorite</a>
        <div class="favoritecount"><b>4</b></div>


</div>

            </td>
            
<td class="postcell">
<div>
    <div class="post-text" itemprop="text">

<p class="cye-lm-tag">I am getting the error message <code>org.hibernate.MappingException: Unknown entity</code> when i am trying to integrate hibernate 5.0 with mysql</p>

<p class="cye-lm-tag">This seems to be an issue with hibernate5.0.0 and 5.0.1 . This works fine with hibernate 4.3.9</p>

<h3>Maven dependices</h3>

<pre class="default prettyprint prettyprinted"><code><span class="tag cye-lm-tag">&lt;dependency&gt;</span><span class="pln cye-lm-tag">
    </span><span class="tag cye-lm-tag">&lt;groupId&gt;</span><span class="pln cye-lm-tag">org.hibernate</span><span class="tag cye-lm-tag">&lt;/groupId&gt;</span><span class="pln cye-lm-tag">
        </span><span class="tag cye-lm-tag">&lt;artifactId&gt;</span><span class="pln cye-lm-tag">hibernate-core</span><span class="tag cye-lm-tag">&lt;/artifactId&gt;</span><span class="pln cye-lm-tag">
        </span><span class="tag cye-lm-tag">&lt;version&gt;</span><span class="pln cye-lm-tag">5.0.0.Final</span><span class="tag cye-lm-tag">&lt;/version&gt;</span><span class="pln cye-lm-tag">
    </span><span class="tag cye-lm-tag">&lt;/dependency&gt;</span><span class="pln cye-lm-tag">
    </span><span class="tag cye-lm-tag">&lt;dependency&gt;</span><span class="pln cye-lm-tag">
        </span><span class="tag cye-lm-tag">&lt;groupId&gt;</span><span class="pln cye-lm-tag">mysql</span><span class="tag cye-lm-tag">&lt;/groupId&gt;</span><span class="pln cye-lm-tag">
        </span><span class="tag cye-lm-tag">&lt;artifactId&gt;</span><span class="pln cye-lm-tag">mysql-connector-java</span><span class="tag cye-lm-tag">&lt;/artifactId&gt;</span><span class="pln cye-lm-tag">
        </span><span class="tag cye-lm-tag">&lt;version&gt;</span><span class="pln cye-lm-tag">5.1.36</span><span class="tag cye-lm-tag">&lt;/version&gt;</span><span class="pln cye-lm-tag">
</span><span class="tag cye-lm-tag">&lt;/dependency&gt;</span></code></pre>

<h3>hibernate.cfg.xml</h3>

<p class="cye-lm-tag"></p>

<pre class="default prettyprint prettyprinted"><code><span class="tag cye-lm-tag">&lt;session-factory&gt;</span><span class="pln cye-lm-tag">

    </span><span class="com cye-lm-tag">&lt;!-- Database connection settings --&gt;</span><span class="pln cye-lm-tag">
    </span><span class="tag cye-lm-tag">&lt;property</span><span class="pln cye-lm-tag"> </span><span class="atn cye-lm-tag">name</span><span class="pun cye-lm-tag">=</span><span class="atv cye-lm-tag">"connection.driver_class"</span><span class="tag cye-lm-tag">&gt;</span><span class="pln cye-lm-tag">com.mysql.jdbc.Driver</span><span class="tag cye-lm-tag">&lt;/property&gt;</span><span class="pln cye-lm-tag">
    </span><span class="tag cye-lm-tag">&lt;property</span><span class="pln cye-lm-tag"> </span><span class="atn cye-lm-tag">name</span><span class="pun cye-lm-tag">=</span><span class="atv cye-lm-tag">"connection.url"</span><span class="tag cye-lm-tag">&gt;</span><span class="pln cye-lm-tag">jdbc:mysql://localhost:3307/SampleDB
    </span><span class="tag cye-lm-tag">&lt;/property&gt;</span><span class="pln cye-lm-tag">
    </span><span class="tag cye-lm-tag">&lt;property</span><span class="pln cye-lm-tag"> </span><span class="atn cye-lm-tag">name</span><span class="pun cye-lm-tag">=</span><span class="atv cye-lm-tag">"connection.username"</span><span class="tag cye-lm-tag">&gt;</span><span class="pln cye-lm-tag">root</span><span class="tag cye-lm-tag">&lt;/property&gt;</span><span class="pln cye-lm-tag">
    </span><span class="tag cye-lm-tag">&lt;property</span><span class="pln cye-lm-tag"> </span><span class="atn cye-lm-tag">name</span><span class="pun cye-lm-tag">=</span><span class="atv cye-lm-tag">"connection.password"</span><span class="tag cye-lm-tag">&gt;&lt;/property&gt;</span><span class="pln cye-lm-tag">

    </span><span class="com cye-lm-tag">&lt;!-- JDBC connection pool (use the built-in) --&gt;</span><span class="pln cye-lm-tag">
    </span><span class="tag cye-lm-tag">&lt;property</span><span class="pln cye-lm-tag"> </span><span class="atn cye-lm-tag">name</span><span class="pun cye-lm-tag">=</span><span class="atv cye-lm-tag">"connection.pool_size"</span><span class="tag cye-lm-tag">&gt;</span><span class="pln cye-lm-tag">1</span><span class="tag cye-lm-tag">&lt;/property&gt;</span><span class="pln cye-lm-tag">
    </span><span class="tag cye-lm-tag">&lt;property</span><span class="pln cye-lm-tag"> </span><span class="atn cye-lm-tag">name</span><span class="pun cye-lm-tag">=</span><span class="atv cye-lm-tag">"dialect"</span><span class="tag cye-lm-tag">&gt;</span><span class="pln cye-lm-tag">org.hibernate.dialect.MySQLDialect</span><span class="tag cye-lm-tag">&lt;/property&gt;</span><span class="pln cye-lm-tag">

    </span><span class="com cye-lm-tag">&lt;!-- Echo all executed SQL to stdout --&gt;</span><span class="pln cye-lm-tag">
    </span><span class="tag cye-lm-tag">&lt;property</span><span class="pln cye-lm-tag"> </span><span class="atn cye-lm-tag">name</span><span class="pun cye-lm-tag">=</span><span class="atv cye-lm-tag">"show_sql"</span><span class="tag cye-lm-tag">&gt;</span><span class="pln cye-lm-tag">true</span><span class="tag cye-lm-tag">&lt;/property&gt;</span><span class="pln cye-lm-tag">

    </span><span class="com cye-lm-tag">&lt;!-- Drop and re-create the database schema on startup --&gt;</span><span class="pln cye-lm-tag">
    </span><span class="tag cye-lm-tag">&lt;property</span><span class="pln cye-lm-tag"> </span><span class="atn cye-lm-tag">name</span><span class="pun cye-lm-tag">=</span><span class="atv cye-lm-tag">"hbm2ddl.auto"</span><span class="tag cye-lm-tag">&gt;</span><span class="pln cye-lm-tag">create</span><span class="tag cye-lm-tag">&lt;/property&gt;</span><span class="pln cye-lm-tag">

    </span><span class="tag cye-lm-tag">&lt;mapping</span><span class="pln cye-lm-tag"> </span><span class="atn cye-lm-tag">class</span><span class="pun cye-lm-tag">=</span><span class="atv cye-lm-tag">"UserA.User"</span><span class="tag cye-lm-tag">&gt;&lt;/mapping&gt;</span><span class="pln cye-lm-tag">

</span><span class="tag cye-lm-tag">&lt;/session-factory&gt;</span></code></pre>

<p class="cye-lm-tag"></p>

<h3>HibernateMain.java code</h3>

<pre class="default prettyprint prettyprinted"><code><span class="kwd cye-lm-tag">package</span><span class="pln cye-lm-tag"> </span><span class="typ cye-lm-tag">UserA</span><span class="pun cye-lm-tag">;</span><span class="pln cye-lm-tag">

</span><span class="kwd cye-lm-tag">import</span><span class="pln cye-lm-tag"> org</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">hibernate</span><span class="pun cye-lm-tag">.</span><span class="typ cye-lm-tag">Session</span><span class="pun cye-lm-tag">;</span><span class="pln cye-lm-tag">
</span><span class="kwd cye-lm-tag">import</span><span class="pln cye-lm-tag"> org</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">hibernate</span><span class="pun cye-lm-tag">.</span><span class="typ cye-lm-tag">SessionFactory</span><span class="pun cye-lm-tag">;</span><span class="pln cye-lm-tag">
</span><span class="kwd cye-lm-tag">import</span><span class="pln cye-lm-tag"> org</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">hibernate</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">boot</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">registry</span><span class="pun cye-lm-tag">.</span><span class="typ cye-lm-tag">StandardServiceRegistryBuilder</span><span class="pun cye-lm-tag">;</span><span class="pln cye-lm-tag">
</span><span class="kwd cye-lm-tag">import</span><span class="pln cye-lm-tag"> org</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">hibernate</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">cfg</span><span class="pun cye-lm-tag">.</span><span class="typ cye-lm-tag">Configuration</span><span class="pun cye-lm-tag">;</span><span class="pln cye-lm-tag">
</span><span class="kwd cye-lm-tag">import</span><span class="pln cye-lm-tag"> org</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">hibernate</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">mapping</span><span class="pun cye-lm-tag">.</span><span class="typ cye-lm-tag">Map</span><span class="pun cye-lm-tag">;</span><span class="pln cye-lm-tag">
</span><span class="kwd cye-lm-tag">import</span><span class="pln cye-lm-tag"> org</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">hibernate</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">metadata</span><span class="pun cye-lm-tag">.</span><span class="typ cye-lm-tag">ClassMetadata</span><span class="pun cye-lm-tag">;</span><span class="pln cye-lm-tag">
</span><span class="kwd cye-lm-tag">import</span><span class="pln cye-lm-tag"> org</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">hibernate</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">persister</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">entity</span><span class="pun cye-lm-tag">.</span><span class="typ cye-lm-tag">EntityPersister</span><span class="pun cye-lm-tag">;</span><span class="pln cye-lm-tag">
</span><span class="kwd cye-lm-tag">import</span><span class="pln cye-lm-tag"> org</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">hibernate</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">service</span><span class="pun cye-lm-tag">.</span><span class="typ cye-lm-tag">ServiceRegistry</span><span class="pun cye-lm-tag">;</span><span class="pln cye-lm-tag">

</span><span class="kwd cye-lm-tag">public</span><span class="pln cye-lm-tag"> </span><span class="kwd cye-lm-tag">class</span><span class="pln cye-lm-tag"> </span><span class="typ cye-lm-tag">HibernateMain</span><span class="pln cye-lm-tag"> </span><span class="pun cye-lm-tag">{</span><span class="pln cye-lm-tag">

    </span><span class="kwd cye-lm-tag">public</span><span class="pln cye-lm-tag"> </span><span class="kwd cye-lm-tag">static</span><span class="pln cye-lm-tag"> </span><span class="kwd cye-lm-tag">void</span><span class="pln cye-lm-tag"> main</span><span class="pun cye-lm-tag">(</span><span class="typ cye-lm-tag">String</span><span class="pun cye-lm-tag">[]</span><span class="pln cye-lm-tag"> args</span><span class="pun cye-lm-tag">)</span><span class="pln cye-lm-tag"> </span><span class="pun cye-lm-tag">{</span><span class="pln cye-lm-tag">

        </span><span class="typ cye-lm-tag">Configuration</span><span class="pln cye-lm-tag"> configuration </span><span class="pun cye-lm-tag">=</span><span class="pln cye-lm-tag"> </span><span class="kwd cye-lm-tag">new</span><span class="pln cye-lm-tag"> </span><span class="typ cye-lm-tag">Configuration</span><span class="pun cye-lm-tag">();</span><span class="pln cye-lm-tag">
        configuration</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">configure</span><span class="pun cye-lm-tag">();</span><span class="pln cye-lm-tag">
        </span><span class="typ cye-lm-tag">ServiceRegistry</span><span class="pln cye-lm-tag"> sr </span><span class="pun cye-lm-tag">=</span><span class="pln cye-lm-tag"> </span><span class="kwd cye-lm-tag">new</span><span class="pln cye-lm-tag"> </span><span class="typ cye-lm-tag">StandardServiceRegistryBuilder</span><span class="pun cye-lm-tag">().</span><span class="pln cye-lm-tag">applySettings</span><span class="pun cye-lm-tag">(</span><span class="pln cye-lm-tag">configuration</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">getProperties</span><span class="pun cye-lm-tag">()).</span><span class="pln cye-lm-tag">build</span><span class="pun cye-lm-tag">();</span><span class="pln cye-lm-tag">

        </span><span class="typ cye-lm-tag">SessionFactory</span><span class="pln cye-lm-tag"> sf </span><span class="pun cye-lm-tag">=</span><span class="pln cye-lm-tag"> configuration</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">buildSessionFactory</span><span class="pun cye-lm-tag">(</span><span class="pln cye-lm-tag">sr</span><span class="pun cye-lm-tag">);</span><span class="pln cye-lm-tag">




        </span><span class="typ cye-lm-tag">User</span><span class="pln cye-lm-tag"> user1 </span><span class="pun cye-lm-tag">=</span><span class="pln cye-lm-tag"> </span><span class="kwd cye-lm-tag">new</span><span class="pln cye-lm-tag"> </span><span class="typ cye-lm-tag">User</span><span class="pun cye-lm-tag">();</span><span class="pln cye-lm-tag">
        user1</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">setUserName</span><span class="pun cye-lm-tag">(</span><span class="str cye-lm-tag">"Arpit"</span><span class="pun cye-lm-tag">);</span><span class="pln cye-lm-tag">
        user1</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">setUserMessage</span><span class="pun cye-lm-tag">(</span><span class="str cye-lm-tag">"Hello world from arpit"</span><span class="pun cye-lm-tag">);</span><span class="pln cye-lm-tag">
        user1</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">setUserId</span><span class="pun cye-lm-tag">(</span><span class="lit cye-lm-tag">22</span><span class="pun cye-lm-tag">);</span><span class="pln cye-lm-tag">

        </span><span class="typ cye-lm-tag">Session</span><span class="pln cye-lm-tag"> ss </span><span class="pun cye-lm-tag">=</span><span class="pln cye-lm-tag"> sf</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">openSession</span><span class="pun cye-lm-tag">();</span><span class="pln cye-lm-tag">
        ss</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">beginTransaction</span><span class="pun cye-lm-tag">();</span><span class="pln cye-lm-tag">
        </span><span class="com cye-lm-tag">// saving objects to session</span><span class="pln cye-lm-tag">
        ss</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">save</span><span class="pun cye-lm-tag">(</span><span class="pln cye-lm-tag">user1</span><span class="pun cye-lm-tag">);</span><span class="pln cye-lm-tag">
        ss</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">getTransaction</span><span class="pun cye-lm-tag">().</span><span class="pln cye-lm-tag">commit</span><span class="pun cye-lm-tag">();</span><span class="pln cye-lm-tag">
        ss</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">close</span><span class="pun cye-lm-tag">();</span><span class="pln cye-lm-tag">

    </span><span class="pun cye-lm-tag">}</span><span class="pln cye-lm-tag">

</span><span class="pun cye-lm-tag">}</span></code></pre>

<h3>User.java</h3>

<pre class="default prettyprint prettyprinted"><code><span class="kwd cye-lm-tag">package</span><span class="pln cye-lm-tag"> </span><span class="typ cye-lm-tag">UserA</span><span class="pun cye-lm-tag">;</span><span class="pln cye-lm-tag">

</span><span class="kwd cye-lm-tag">import</span><span class="pln cye-lm-tag"> javax</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">persistence</span><span class="pun cye-lm-tag">.</span><span class="typ cye-lm-tag">Column</span><span class="pun cye-lm-tag">;</span><span class="pln cye-lm-tag">
</span><span class="kwd cye-lm-tag">import</span><span class="pln cye-lm-tag"> javax</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">persistence</span><span class="pun cye-lm-tag">.</span><span class="typ cye-lm-tag">Entity</span><span class="pun cye-lm-tag">;</span><span class="pln cye-lm-tag">
</span><span class="kwd cye-lm-tag">import</span><span class="pln cye-lm-tag"> javax</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">persistence</span><span class="pun cye-lm-tag">.</span><span class="typ cye-lm-tag">Id</span><span class="pun cye-lm-tag">;</span><span class="pln cye-lm-tag">

</span><span class="lit cye-lm-tag">@Entity</span><span class="pun cye-lm-tag">(</span><span class="pln cye-lm-tag">name</span><span class="pun cye-lm-tag">=</span><span class="str cye-lm-tag">"User_table"</span><span class="pun cye-lm-tag">)</span><span class="pln cye-lm-tag">
</span><span class="kwd cye-lm-tag">public</span><span class="pln cye-lm-tag"> </span><span class="kwd cye-lm-tag">class</span><span class="pln cye-lm-tag"> </span><span class="typ cye-lm-tag">User</span><span class="pln cye-lm-tag"> </span><span class="pun cye-lm-tag">{</span><span class="pln cye-lm-tag">
    </span><span class="lit cye-lm-tag">@Id</span><span class="pln cye-lm-tag">
    </span><span class="kwd cye-lm-tag">int</span><span class="pln cye-lm-tag"> userId</span><span class="pun cye-lm-tag">;</span><span class="pln cye-lm-tag">
    </span><span class="lit cye-lm-tag">@Column</span><span class="pun cye-lm-tag">(</span><span class="pln cye-lm-tag">name </span><span class="pun cye-lm-tag">=</span><span class="pln cye-lm-tag"> </span><span class="str cye-lm-tag">"User_Name"</span><span class="pun cye-lm-tag">)</span><span class="pln cye-lm-tag">
    </span><span class="typ cye-lm-tag">String</span><span class="pln cye-lm-tag"> userName</span><span class="pun cye-lm-tag">;</span><span class="pln cye-lm-tag">

    </span><span class="lit cye-lm-tag">@Column</span><span class="pun cye-lm-tag">(</span><span class="pln cye-lm-tag">name </span><span class="pun cye-lm-tag">=</span><span class="pln cye-lm-tag"> </span><span class="str cye-lm-tag">"User_Message"</span><span class="pun cye-lm-tag">)</span><span class="pln cye-lm-tag">
    </span><span class="typ cye-lm-tag">String</span><span class="pln cye-lm-tag"> userMessage</span><span class="pun cye-lm-tag">;</span><span class="pln cye-lm-tag">

    </span><span class="kwd cye-lm-tag">public</span><span class="pln cye-lm-tag"> </span><span class="kwd cye-lm-tag">int</span><span class="pln cye-lm-tag"> getUserId</span><span class="pun cye-lm-tag">()</span><span class="pln cye-lm-tag"> </span><span class="pun cye-lm-tag">{</span><span class="pln cye-lm-tag">
        </span><span class="kwd cye-lm-tag">return</span><span class="pln cye-lm-tag"> userId</span><span class="pun cye-lm-tag">;</span><span class="pln cye-lm-tag">
    </span><span class="pun cye-lm-tag">}</span><span class="pln cye-lm-tag">

    </span><span class="kwd cye-lm-tag">public</span><span class="pln cye-lm-tag"> </span><span class="kwd cye-lm-tag">void</span><span class="pln cye-lm-tag"> setUserId</span><span class="pun cye-lm-tag">(</span><span class="kwd cye-lm-tag">int</span><span class="pln cye-lm-tag"> userId</span><span class="pun cye-lm-tag">)</span><span class="pln cye-lm-tag"> </span><span class="pun cye-lm-tag">{</span><span class="pln cye-lm-tag">
        </span><span class="kwd cye-lm-tag">this</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">userId </span><span class="pun cye-lm-tag">=</span><span class="pln cye-lm-tag"> userId</span><span class="pun cye-lm-tag">;</span><span class="pln cye-lm-tag">
    </span><span class="pun cye-lm-tag">}</span><span class="pln cye-lm-tag">

    </span><span class="kwd cye-lm-tag">public</span><span class="pln cye-lm-tag"> </span><span class="typ cye-lm-tag">String</span><span class="pln cye-lm-tag"> getUserName</span><span class="pun cye-lm-tag">()</span><span class="pln cye-lm-tag"> </span><span class="pun cye-lm-tag">{</span><span class="pln cye-lm-tag">
        </span><span class="kwd cye-lm-tag">return</span><span class="pln cye-lm-tag"> userName</span><span class="pun cye-lm-tag">;</span><span class="pln cye-lm-tag">
    </span><span class="pun cye-lm-tag">}</span><span class="pln cye-lm-tag">

    </span><span class="kwd cye-lm-tag">public</span><span class="pln cye-lm-tag"> </span><span class="kwd cye-lm-tag">void</span><span class="pln cye-lm-tag"> setUserName</span><span class="pun cye-lm-tag">(</span><span class="typ cye-lm-tag">String</span><span class="pln cye-lm-tag"> userName</span><span class="pun cye-lm-tag">)</span><span class="pln cye-lm-tag"> </span><span class="pun cye-lm-tag">{</span><span class="pln cye-lm-tag">
        </span><span class="kwd cye-lm-tag">this</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">userName </span><span class="pun cye-lm-tag">=</span><span class="pln cye-lm-tag"> userName</span><span class="pun cye-lm-tag">;</span><span class="pln cye-lm-tag">
    </span><span class="pun cye-lm-tag">}</span><span class="pln cye-lm-tag">

    </span><span class="kwd cye-lm-tag">public</span><span class="pln cye-lm-tag"> </span><span class="typ cye-lm-tag">String</span><span class="pln cye-lm-tag"> getUserMessage</span><span class="pun cye-lm-tag">()</span><span class="pln cye-lm-tag"> </span><span class="pun cye-lm-tag">{</span><span class="pln cye-lm-tag">
        </span><span class="kwd cye-lm-tag">return</span><span class="pln cye-lm-tag"> userMessage</span><span class="pun cye-lm-tag">;</span><span class="pln cye-lm-tag">
    </span><span class="pun cye-lm-tag">}</span><span class="pln cye-lm-tag">

    </span><span class="kwd cye-lm-tag">public</span><span class="pln cye-lm-tag"> </span><span class="kwd cye-lm-tag">void</span><span class="pln cye-lm-tag"> setUserMessage</span><span class="pun cye-lm-tag">(</span><span class="typ cye-lm-tag">String</span><span class="pln cye-lm-tag"> userMessage</span><span class="pun cye-lm-tag">)</span><span class="pln cye-lm-tag"> </span><span class="pun cye-lm-tag">{</span><span class="pln cye-lm-tag">
        </span><span class="kwd cye-lm-tag">this</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">userMessage </span><span class="pun cye-lm-tag">=</span><span class="pln cye-lm-tag"> userMessage</span><span class="pun cye-lm-tag">;</span><span class="pln cye-lm-tag">
    </span><span class="pun cye-lm-tag">}</span><span class="pln cye-lm-tag">

</span><span class="pun cye-lm-tag">}</span></code></pre>
    </div>
    <div class="post-taglist">
        <a href="/questions/tagged/java" class="post-tag js-gps-track" title="show questions tagged 'java'" rel="tag">java</a> <a href="/questions/tagged/mysql" class="post-tag js-gps-track" title="show questions tagged 'mysql'" rel="tag">mysql</a> <a href="/questions/tagged/hibernate" class="post-tag js-gps-track" title="show questions tagged 'hibernate'" rel="tag">hibernate</a> <a href="/questions/tagged/hibernate-5.x" class="post-tag js-gps-track" title="show questions tagged 'hibernate-5.x'" rel="tag">hibernate-5.x</a> 
    </div>
    <table class="fw">
    <tbody><tr>
    <td class="vt">
<div class="post-menu"><a href="/q/32405031" title="short permalink to this question" class="short-link" id="link-post-32405031">share</a><span class="lsep cye-lm-tag">|</span><a href="/posts/32405031/edit" class="suggest-edit-post" title="">improve this question</a></div>        
    </td>
    <td align="right" class="post-signature">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="/posts/32405031/revisions" title="show all edits to this post">edited <span title="2015-09-12 11:49:24Z" class="relativetime cye-lm-tag">Sep 12 '15 at 11:49</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/2252572/bikku"><div class="gravatar-wrapper-32"><img src="https://i.stack.imgur.com/5Sv5r.png?s=32&amp;g=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/2252572/bikku">Bikku</a>
        <div class="-flair">
            <span class="reputation-score cye-lm-tag" title="reputation score " dir="ltr">4,113</span><span title="8 gold badges" class="cye-lm-tag"><span class="badge1 cye-lm-tag"></span><span class="badgecount cye-lm-tag">8</span></span><span title="28 silver badges" class="cye-lm-tag"><span class="badge2 cye-lm-tag"></span><span class="badgecount cye-lm-tag">28</span></span><span title="44 bronze badges" class="cye-lm-tag"><span class="badge3 cye-lm-tag"></span><span class="badgecount cye-lm-tag">44</span></span>
        </div>
    </div>
</div>    </td>
    <td class="post-signature owner">
        <div class="user-info ">
    <div class="user-action-time">
        asked <span title="2015-09-04 19:09:01Z" class="relativetime cye-lm-tag">Sep 4 '15 at 19:09</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/3956252/mamta-garg"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/8e225ecfafc975e33029f7abcbd17210?s=32&amp;d=identicon&amp;r=PG&amp;f=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/3956252/mamta-garg">Mamta Garg</a>
        <div class="-flair">
            <span class="reputation-score cye-lm-tag" title="reputation score " dir="ltr">51</span><span title="1 gold badge" class="cye-lm-tag"><span class="badge1 cye-lm-tag"></span><span class="badgecount cye-lm-tag">1</span></span><span title="1 silver badge" class="cye-lm-tag"><span class="badge2 cye-lm-tag"></span><span class="badgecount cye-lm-tag">1</span></span><span title="6 bronze badges" class="cye-lm-tag"><span class="badge3 cye-lm-tag"></span><span class="badgecount cye-lm-tag">6</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </tbody></table>
</div>
</td>
        </tr>
                    
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-32405031" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">



    <tr id="comment-52678339" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy cye-lm-tag">Exception in thread "main" org.hibernate.MappingException: Unknown entity: UserA.User 	at org.hibernate.internal.SessionFactoryImpl.getEntityPersister‌​(SessionFactoryImpl.‌​java:776) 	at org.hibernate.internal.SessionImpl.getEntityPersister(Sessio‌​nImpl.java:1447) 	at org.hibernate.event.internal.AbstractSaveEventListener.saveW‌​ithGeneratedId(Abstr‌​actSaveEventListener‌​.java:100) 	at org.hibernate.event.internal.DefaultSaveOrUpdateEventListene‌​r.saveWithGeneratedO‌​rRequestedId(Default‌​SaveOrUpdateEventLis‌​tener.java:192) 	at org.hibernate.event.internal.DefaultSaveEventListener.saveWi‌​thGener</span>
                    –&nbsp;<a href="/users/3956252/mamta-garg" title="51 reputation" class="comment-user owner">Mamta Garg</a>
                <span class="comment-date cye-lm-tag" dir="ltr"><a class="comment-link" href="#comment52678339_32405031"><span title="2015-09-04 19:11:46Z" class="relativetime-clean cye-lm-tag">Sep 4 '15 at 19:11</span></a></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-32405031" data-rep="50" data-anon="true">

                <a class="js-add-link comments-link disabled-link " title="Use comments to ask for more information or suggest improvements. Avoid answering questions in comments.">add a comment</a><span class="js-link-separator dno cye-lm-tag">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href="#" onclick=""></a>
        </div>         
    </td>
</tr>        </tbody></table>
<br>
<hr>
<div class="post-text cye-lm-tag" itemprop="text">
<p class="cye-lm-tag">I have fixed the same issue with Hibernate 5. There is a problem in this code</p>

<pre class="default prettyprint prettyprinted"><code><span class="typ cye-lm-tag">Configuration</span><span class="pln cye-lm-tag"> configuration </span><span class="pun cye-lm-tag">=</span><span class="pln cye-lm-tag"> </span><span class="kwd cye-lm-tag">new</span><span class="pln cye-lm-tag"> </span><span class="typ cye-lm-tag">Configuration</span><span class="pun cye-lm-tag">();</span><span class="pln cye-lm-tag">
configuration</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">configure</span><span class="pun cye-lm-tag">();</span><span class="pln cye-lm-tag">

</span><span class="typ cye-lm-tag">ServiceRegistry</span><span class="pln cye-lm-tag"> sr </span><span class="pun cye-lm-tag">=</span><span class="pln cye-lm-tag"> </span><span class="kwd cye-lm-tag">new</span><span class="pln cye-lm-tag"> </span><span class="typ cye-lm-tag">StandardServiceRegistryBuilder</span><span class="pun cye-lm-tag">().</span><span class="pln cye-lm-tag">applySettings</span><span class="pun cye-lm-tag">(</span><span class="pln cye-lm-tag">
    configuration</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">getProperties</span><span class="pun cye-lm-tag">()).</span><span class="pln cye-lm-tag">build</span><span class="pun cye-lm-tag">();</span><span class="pln cye-lm-tag">

</span><span class="typ cye-lm-tag">SessionFactory</span><span class="pln cye-lm-tag"> sf </span><span class="pun cye-lm-tag">=</span><span class="pln cye-lm-tag"> configuration</span><span class="pun cye-lm-tag">.</span><span class="pln cye-lm-tag">buildSessionFactory</span><span class="pun cye-lm-tag">(</span><span class="pln cye-lm-tag">sr</span><span class="pun cye-lm-tag">);</span></code></pre>

<p class="cye-lm-tag">This code works fine for Hibernate 4.3.5, but the same code has the same issue for Hibernate 5. </p>

<p class="cye-lm-tag">When you do <code>configuration.buildSessionFactory(sr)</code>, using Hibernate 5, <code>Configuration</code> losts all information about mapping that gets by call <code>configuration.configure()</code>.</p>

<p class="cye-lm-tag"><strong>Solution</strong></p>

<p class="cye-lm-tag">To fix the issue, if you use standard configuration files <code>hibernate.cfg.xml</code> and <code>hibernate.properties</code>, you can create the session factory by this way (without <code>ServiceRegistry</code>) </p>

<pre class="default prettyprint prettyprinted cye-lm-tag"><code><span class="typ cye-lm-tag">SessionFactory</span><span class="pln cye-lm-tag"> sessionFactory </span><span class="pun cye-lm-tag">=</span><span class="pln cye-lm-tag"> </span><span class="kwd cye-lm-tag">new</span><span class="pln cye-lm-tag"> </span><span class="typ cye-lm-tag">Configuration</span><span class="pun cye-lm-tag">().</span><span class="pln cye-lm-tag">configure</span><span class="pun cye-lm-tag">().</span><span class="pln cye-lm-tag">buildSessionFactory</span><span class="pun cye-lm-tag">();</span></code></pre>

<p class="cye-lm-tag"><strong>Loading properties</strong></p>

<p class="cye-lm-tag">If you have properties in a file other then <code>hibernate.properties</code>, you can build session factory using <code>StandardServiceRegistryBuilder</code> (anyway, if you have <code>hibernate.properties</code> and other file, it will be loaded both)</p>

<p class="cye-lm-tag">To load properties as a resource</p>

<pre class="default prettyprint prettyprinted"><code><span class="typ cye-lm-tag">ServiceRegistry</span><span class="pln cye-lm-tag"> serviceRegistry </span><span class="pun cye-lm-tag">=</span><span class="pln cye-lm-tag"> </span><span class="kwd cye-lm-tag">new</span><span class="pln cye-lm-tag"> </span><span class="typ cye-lm-tag">StandardServiceRegistryBuilder</span><span class="pun cye-lm-tag">().</span><span class="pln cye-lm-tag">
    configure</span><span class="pun cye-lm-tag">().</span><span class="pln cye-lm-tag">loadProperties</span><span class="pun cye-lm-tag">(</span><span class="str cye-lm-tag">"hibernate-h2.properties"</span><span class="pun cye-lm-tag">).</span><span class="pln cye-lm-tag">build</span><span class="pun cye-lm-tag">();</span><span class="pln cye-lm-tag">
</span><span class="typ cye-lm-tag">SessionFactory</span><span class="pln cye-lm-tag"> sf </span><span class="pun cye-lm-tag">=</span><span class="pln cye-lm-tag"> </span><span class="kwd cye-lm-tag">new</span><span class="pln cye-lm-tag"> </span><span class="typ cye-lm-tag">Configuration</span><span class="pun cye-lm-tag">().</span><span class="pln cye-lm-tag">buildSessionFactory</span><span class="pun cye-lm-tag">(</span><span class="pln cye-lm-tag">serviceRegistry</span><span class="pun cye-lm-tag">);</span><span class="pln cye-lm-tag">  </span></code></pre>

<p class="cye-lm-tag">You need to have <code>hibernate-h2.properties</code> in the class path (root of the sources folder, resources folder). You can specify a path from the root source folder too
<code>/com/github/xxx/model/hibernate-h2.properties</code>.</p>

<p class="cye-lm-tag">To load properties from a path in the file system</p>

<pre class="default prettyprint prettyprinted"><code><span class="typ cye-lm-tag">File</span><span class="pln cye-lm-tag"> propertiesPath </span><span class="pun cye-lm-tag">=</span><span class="pln cye-lm-tag"> </span><span class="kwd cye-lm-tag">new</span><span class="pln cye-lm-tag"> </span><span class="typ cye-lm-tag">File</span><span class="pun cye-lm-tag">(</span><span class="str cye-lm-tag">"some_path"</span><span class="pun cye-lm-tag">);</span><span class="pln cye-lm-tag">
</span><span class="typ cye-lm-tag">ServiceRegistry</span><span class="pln cye-lm-tag"> serviceRegistry </span><span class="pun cye-lm-tag">=</span><span class="pln cye-lm-tag"> </span><span class="kwd cye-lm-tag">new</span><span class="pln cye-lm-tag"> </span><span class="typ cye-lm-tag">StandardServiceRegistryBuilder</span><span class="pun cye-lm-tag">().</span><span class="pln cye-lm-tag">
    configure</span><span class="pun cye-lm-tag">().</span><span class="pln cye-lm-tag">loadProperties</span><span class="pun cye-lm-tag">(</span><span class="pln cye-lm-tag">propertiesPath</span><span class="pun cye-lm-tag">).</span><span class="pln cye-lm-tag">build</span><span class="pun cye-lm-tag">();</span><span class="pln cye-lm-tag">
</span><span class="typ cye-lm-tag">SessionFactory</span><span class="pln cye-lm-tag"> sf </span><span class="pun cye-lm-tag">=</span><span class="pln cye-lm-tag"> </span><span class="kwd cye-lm-tag">new</span><span class="pln cye-lm-tag"> </span><span class="typ cye-lm-tag">Configuration</span><span class="pun cye-lm-tag">().</span><span class="pln cye-lm-tag">buildSessionFactory</span><span class="pun cye-lm-tag">(</span><span class="pln cye-lm-tag">serviceRegistry</span><span class="pun cye-lm-tag">);</span></code></pre>

<p class="cye-lm-tag">You can find an example console application using this approach here <a href="https://github.com/v-ladynev/fluent-hibernate-mysql">fluent-hibernate-mysql</a>. It uses a utility class to build the session factory from the <a href="https://github.com/v-ladynev/fluent-hibernate">fluent-hibernate library</a>. </p>

<p class="cye-lm-tag"><strong>Incorrect Hibernate 5 tutorial</strong></p>

<p class="cye-lm-tag">There is an incorrect example in Hibernate 5 tutorial <a href="http://docs.jboss.org/hibernate/orm/5.0/manual/en-US/html/ch01.html#tutorial-firstapp-helpers">1.1.6. Startup and helpers</a>. It uses this code</p>

<pre class="default prettyprint prettyprinted"><code><span class="pln cye-lm-tag"> </span><span class="kwd cye-lm-tag">return</span><span class="pln cye-lm-tag"> </span><span class="kwd cye-lm-tag">new</span><span class="pln cye-lm-tag"> </span><span class="typ cye-lm-tag">Configuration</span><span class="pun cye-lm-tag">().</span><span class="pln cye-lm-tag">configure</span><span class="pun cye-lm-tag">().</span><span class="pln cye-lm-tag">buildSessionFactory</span><span class="pun cye-lm-tag">(</span><span class="pln cye-lm-tag">
                </span><span class="kwd cye-lm-tag">new</span><span class="pln cye-lm-tag"> </span><span class="typ cye-lm-tag">StandardServiceRegistryBuilder</span><span class="pun cye-lm-tag">().</span><span class="pln cye-lm-tag">build</span><span class="pun cye-lm-tag">()</span><span class="pln cye-lm-tag"> </span><span class="pun cye-lm-tag">);</span></code></pre>

<p class="cye-lm-tag">It doesn't do a proper configuration.</p>
    </div>
</body>
</html>